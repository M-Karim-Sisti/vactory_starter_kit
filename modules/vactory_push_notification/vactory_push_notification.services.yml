services:
  logger.channel.vactory_push_notification:
    parent: logger.channel_base
    arguments: ['vactory_push_notification']

  vactory_push_notification.keys_helper:
    class: Drupal\vactory_push_notification\KeysHelper
    arguments: ['@config.factory']

  vactory_push_notification.queue:
    class: Drupal\vactory_push_notification\NotificationQueue
    arguments: ['@queue', '@entity_type.manager', '@config.factory', '@module_handler']

  vactory_push_notification.sender:
    class: Drupal\vactory_push_notification\PushSender
    arguments: ['@vactory_push_notification.keys_helper', '@vactory_push_notification.purge', '@config.factory']

  vactory_push_notification.purge:
    class: Drupal\vactory_push_notification\SubscriptionPurge
    arguments: ['@entity_type.manager', '@logger.channel.vactory_push_notification']